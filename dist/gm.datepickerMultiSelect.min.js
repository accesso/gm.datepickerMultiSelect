/*! gm.datepickerMultiSelect 2015-05-07 */
!function(){angular.module("gm.datepickerMultiSelect",["ui.bootstrap"]).config(["$provide",function(a){a.decorator("daypickerDirective",["$delegate",function(a){var b=a[0],c=b.link;return b.compile=function(){return function(a,b,d,e){function f(){angular.forEach(a.rows,function(a){angular.forEach(a,function(a){var b=g.indexOf(a.date.setHours(12,0,0,0));b>-1?(a.overrideDisabled=!0,a.selected=!0):(a.overrideDisabled=!1,a.selected=!1),a.firstInRange=0===b?!0:!1,a.lastInRange=b===g.length-1?!0:!1})})}c.apply(this,arguments);var g=[];a.$on("update",function(a,b){g=b,f()}),a.$emit("requestSelectedDates"),a.$watch(function(){return e.activeDate.getTime()},f)}},a}])}]).directive("selectRange",function(){return{link:function(a,b,c,d){var e;a.$on("requestSelectedDates",function(){a.$broadcast("update",e)}),c.$observe("selectRange",function(a){selectRange=!!a&&"false"!==a}),a.$watch(c.ngModel,function(b,c){if(b){angular.isUndefined(a.selectedRange)&&(selectedRange=0),e=[];var d=angular.copy(b);d.setHours(12,0,0,0),e.push(d.getTime());for(var f=0;f<a.selectRange-1;f++){var g=new Date(angular.copy(e[f]));g.setDate(g.getDate()+1),e.push(g.getTime())}a.$broadcast("update",e)}})}}})}();